/**
 * {% include 'sulu/comment.twig' %}

 */

require.config({
    paths: {
        {{ js_bundle_name }}: '../../{{ js_bundle_name }}/js',
        'services/app/{{ entity|snake_case('-') }}-manager': '../../app/js/services/{{ entity|snake_case('-') }}-manager'
    }
});

define({
    name: "{{ bundle }}",

    initialize: function(app) {
        'use strict';
        var sandbox = app.sandbox;

        app.components.addSource('{{ js_bundle_name }}', '/bundles/{{ js_bundle_name }}/js/components');

        function getContentLanguage() {
            // FIXME do not use user locale as default use default language of system instead
            return sandbox.sulu.getUserSetting('contentLanguage') || sandbox.sulu.user.locale;
        }

{% include 'sulu/js/main_routes.js.twig' %}
    }
});
